(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d2045dd"],{"1b62":function(t,e,r){"use strict";var o=r("2f4d");e["a"]={data:function(){return{page:{currentPage:1,size:10,total:0,pageSizes:[10,15,20,25,30,35,40]},loadingOption:{background:"rgba(255,255,255,.9)",text:"loading.....",spinner:"el-icon-loading"},uploadUrl:"https://leju.bufan.cloud/lejuAdmin/material/uploadFileOss"}},computed:{headers:function(){var t=Object(o["a"])(),e={token:t};return e}},methods:{centre:function(){return"text-align:center"}}}},"6dac":function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"d",(function(){return a})),r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return i})),r.d(e,"f",(function(){return c}));r("1ad7");var o=r("b775");function n(){return Object(o["a"])({url:"/lejuAdmin/brand/findAllBrand",method:"get"})}function a(t,e){return Object(o["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(t,"/").concat(e),method:"get"})}function s(t){return Object(o["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/lejuAdmin/brand/delBrand/".concat(t),method:"delete"})}function i(t){return Object(o["a"])({url:"/lejuAdmin/brand/switchShowStatus",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:t})}},b5de:function(t,e,r){"use strict";var o=r("c258"),n=r("4b45").find,a=r("27ee"),s="find",l=!0;s in[]&&Array(1)[s]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},b775:function(t,e,r){"use strict";r("3900"),r("195b");var o=r("f753"),n=r.n(o),a=r("b705"),s=r("2f4d"),l=r("a18c"),i=n.a.create({baseURL:"https://leju.bufan.cloud",timeout:5e3});i.interceptors.request.use((function(t){return t.headers["token"]=Object(s["a"])(),t}),(function(t){return console.log(t),Promise.reject(t)})),i.interceptors.response.use((function(t){var e=t.data;return 2e4!==e.code?(Object(a["Message"])({message:e.message||"Error",type:"error",duration:3e3}),20002===e.code&&(Object(a["Message"])({message:"token过期,请重新登录!",type:"error",duration:3e3}),localStorage.clear(),l["a"].push("/")),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(a["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=i},c82a:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"margin_30 activting"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.outerVisible=!0}}},[t._v("新增")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.centre,"cell-style":t.centre,data:t.list,border:""}},[r("el-table-column",{attrs:{fixed:"left",type:"index",label:"#",width:"60"}}),r("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"120"}}),r("el-table-column",{attrs:{label:"商品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.pic,alt:""}})]}}])}),r("el-table-column",{attrs:{label:"活动时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("开始: "+t._s(e.row.promotionStartTime))]),r("br"),r("span",[t._v("结束: "+t._s(e.row.promotionEndTime))])]}}])}),r("el-table-column",{attrs:{label:"是否过期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.isOver(e.row.promotionEndTime)))])]}}])}),r("el-table-column",{attrs:{prop:"brandName",label:"品牌名称",width:"150"}}),r("el-table-column",{attrs:{prop:"",label:"商品价格",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("商品原价: "+t._s(e.row.price))]),r("br"),r("span",[t._v("促销价格: "+t._s(e.row.promotionPrice))])]}}])}),r("el-table-column",{attrs:{prop:"productCategoryName",label:"商品类别",width:"130"}}),r("el-table-column",{attrs:{prop:"publishStatus",label:"上架状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(0==e.row.publishStatus?"下架":"上架"))])]}}])}),r("el-table-column",{attrs:{prop:"type",label:"活动类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(0==e.row.type?"限时购买":"未定"))])]}}])}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{staticStyle:{color:"#f00"},attrs:{size:"small",type:"text"},on:{click:function(r){return t.delAct(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),r("el-dialog",{attrs:{width:"80%",title:"选择商品",visible:t.outerVisible},on:{"update:visible":function(e){t.outerVisible=e}}},[r("el-card",{staticStyle:{"margin-bottom":"15px"},attrs:{shadow:"always"}},[r("div",{attrs:{slot:"header"},slot:"header"},[t._v("条件查询")]),r("el-form",{ref:"searchForm",attrs:{size:"small",model:t.searchForm,inline:!0}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{placeholder:"商品名称/模糊查询"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1)],1),r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{placeholder:"商品货号(SN)"},model:{value:t.searchForm.productSn,callback:function(e){t.$set(t.searchForm,"productSn",e)},expression:"searchForm.productSn"}})],1)],1),r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",{attrs:{prop:"brandId"}},[r("el-select",{attrs:{placeholder:"品牌"},model:{value:t.searchForm.brandId,callback:function(e){t.$set(t.searchForm,"brandId",e)},expression:"searchForm.brandId"}},t._l(t.brandList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",{attrs:{prop:"publishStatus"}},[r("el-select",{attrs:{placeholder:"上架状态"},model:{value:t.searchForm.publishStatus,callback:function(e){t.$set(t.searchForm,"publishStatus",e)},expression:"searchForm.publishStatus"}},[r("el-option",{attrs:{label:"下架",value:0}}),r("el-option",{attrs:{label:"上架",value:1}})],1)],1)],1),r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",{attrs:{prop:"verifyStatus"}},[r("el-select",{attrs:{placeholder:"审核状态"},model:{value:t.searchForm.verifyStatus,callback:function(e){t.$set(t.searchForm,"verifyStatus",e)},expression:"searchForm.verifyStatus"}},[r("el-option",{attrs:{label:"未审核",value:0}}),r("el-option",{attrs:{label:"审核通过",value:1}})],1)],1)],1),r("el-col",{attrs:{span:4,offset:0}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSearch("search")}}},[t._v("搜索")]),r("el-button",{on:{click:function(e){return t.handleSearch("reset")}}},[t._v("重置")])],1)],1)],1)],1)],1),r("el-card",{attrs:{shadow:"always"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.centre,"cell-style":t.centre,height:"300",data:t.productList,border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),r("el-table-column",{attrs:{prop:"id",label:"选择",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-radio",{attrs:{label:e.row.id},on:{change:t.radioEvents},model:{value:t.selectedGoods,callback:function(e){t.selectedGoods=e},expression:"selectedGoods"}},[r("span")])]}}])},[r("span")]),r("el-table-column",{attrs:{prop:"pic",label:"商品图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.pic,alt:""}})]}}])}),r("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"120"}}),r("el-table-column",{attrs:{prop:"price",label:"商品价格",width:"100"}}),r("el-table-column",{attrs:{prop:"productCategoryName",label:"商品类别",width:"100"}}),r("el-table-column",{attrs:{prop:"weight",label:"重量",width:"100"}}),r("el-table-column",{attrs:{prop:"publishStatus",label:"上架状态",width:"100"}}),r("el-table-column",{attrs:{prop:"verifyStatus",label:"审核状态",width:"100"}})],1),r("el-pagination",{attrs:{background:"","current-page":t.page.currentPage,"page-sizes":t.page.sizes,"page-size":t.page.size,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),r("el-dialog",{attrs:{width:"50%",title:"编辑限时活动",visible:t.innerVisible,"append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.innerVisible=e}}},[r("el-form",{staticClass:"demo-form-inline",attrs:{size:"small",inline:!0,model:t.subForm}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"price",label:"商品原价"}},[r("span",[t._v(t._s(t.subForm.price))])])],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"name",label:"商品名称"}},[r("span",[t._v(t._s(t.subForm.name))])])],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"promotionPrice",label:"促销价格"}},[r("el-input-number",{attrs:{min:0},model:{value:t.subForm.promotionPrice,callback:function(e){t.$set(t.subForm,"promotionPrice",e)},expression:"subForm.promotionPrice"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"sort",label:"排序"}},[r("el-input-number",{attrs:{min:0},model:{value:t.subForm.sort,callback:function(e){t.$set(t.subForm,"sort",e)},expression:"subForm.sort"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"promotionStartTime",label:"开始时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.subForm.promotionStartTime,callback:function(e){t.$set(t.subForm,"promotionStartTime",e)},expression:"subForm.promotionStartTime"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"promotionEndTime",label:"结束时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.subForm.promotionEndTime,callback:function(e){t.$set(t.subForm,"promotionEndTime",e)},expression:"subForm.promotionEndTime"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"price",label:"活动限额数量"}},[r("el-input",{attrs:{placeholder:"活动限额数量"},model:{value:t.subForm.promotionPerLimit,callback:function(e){t.$set(t.subForm,"promotionPerLimit",e)},expression:"subForm.promotionPerLimit"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{prop:"pic",label:"商品图片"}},[r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.subForm.pic}})])],1)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.innerVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.submitAct}},[t._v("确 定")])],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.outerVisible=!1}}},[t._v("取 消")])],1)],1)],1)},n=[],a=(r("b5de"),r("3900"),r("b775"));function s(t){return Object(a["a"])({url:"/lejuAdmin/homeRecommend/addRecommend",method:"post",data:t})}function l(){return Object(a["a"])({url:"/lejuAdmin/homeRecommend/findAllRecommends",method:"get"})}var i=r("6dac"),c=r("f8e9"),u=r("1b62"),d={mixins:[u["a"]],data:function(){return{list:[],brandList:[],searchForm:{brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""},productList:[],subForm:{brandName:"",createTime:"",modifyTime:"",name:"",pic:"",price:"",productCategoryName:"",productId:"",productSn:"",promotionEndTime:"",promotionPerLimit:"",promotionPrice:"",promotionStartTime:"",publishStatus:"",recommendId:"",sort:"",type:""},outerVisible:!1,innerVisible:!1,selectedGoods:""}},components:{},computed:{},methods:{submitAct:function(){var t=this;s(this.subForm).then((function(e){console.log(e),t.$message.success("活动添加成功!"),t.innerVisible=!1,t.outerVisible=!1,t.init()}))},radioEvents:function(t){this.innerVisible=!this.innerVisible;var e=this.productList.find((function(e){return e.id==t}));this.subForm=e,this.subForm.productId=e.id,this.subForm.recommendId="",this.subForm.type=""},handleSearch:function(t){"search"==t?this.initPro():"reset"==t&&this.$refs.searchForm.resetFields()},delAct:function(t){},isOver:function(t){var e=(new Date).getTime()-new Date(t).getTime();return e>0?"过期":"否"},init:function(){var t=this;l().then((function(e){console.log("活动====",e),t.list=e.data.items})),Object(i["c"])().then((function(e){console.log("品牌=====",e),t.brandList=e.data.items}))},initPro:function(){var t=this;Object(c["d"])(this.page.currentPage,this.page.size,this.searchForm).then((function(e){console.log("商品=====",e),t.productList=e.data.rows,t.page.total=e.data.total}))},handleSizeChange:function(t){this.page.size=t,this.initPro()},handleCurrentChange:function(t){this.page.currentPage=t,this.initPro()},centre:function(){return"text-align:center"}},created:function(){this.init(),this.initPro()},mounted:function(){}},m=d,p=r("cba8"),b=Object(p["a"])(m,o,n,!1,null,"247bb14c",null);e["default"]=b.exports},f8e9:function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return s})),r.d(e,"g",(function(){return l})),r.d(e,"h",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"a",(function(){return d})),r.d(e,"i",(function(){return m}));r("1ad7");var o=r("b775");function n(t,e,r){return Object(o["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:r})}function a(t){return Object(o["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function l(t){return Object(o["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/lejuAdmin/product/del/".concat(t),method:"delete"})}function u(t){return Object(o["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(t),method:"get"})}function d(t){return Object(o["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:t})}}}]);