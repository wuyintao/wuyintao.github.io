(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c767eca0"],{1964:function(e,t,s){"use strict";s("c58d")},5549:function(e){e.exports=JSON.parse('{"EBusinessID":"1109259","OrderCode":"","ShipperCode":"EMS","LogisticCode":"5042260908504","Success":true,"Reason":"","State":"2","CallBack":"0","Traces":[{"AcceptTime":"2015-03-06 21:16:58","AcceptStation":"深圳市横岗速递营销部已收件","Remark":"揽投员姓名：钟定基;联系电话：13883838888"},{"AcceptTime":"2015-03-07 14:25:00","AcceptStation":"离开深圳市 发往广州市","Remark":""},{"AcceptTime":"2015-03-08 00:17:00","AcceptStation":"到达广东速递物流公司广航中心处理中心（经转）","Remark":""},{"AcceptTime":"2015-03-08 01:15:00","AcceptStation":"离开广州市 发往北京市（经转）","Remark":""},{"AcceptTime":"2015-03-09 09:01:00","AcceptStation":"到达北京黄村转运站处理中心（经转）","Remark":""},{"AcceptTime":"2015-03-09 18:39:00","AcceptStation":"离开北京市 发往呼和浩特市（经转）","Remark":""},{"AcceptTime":"2015-03-10 18:06:00","AcceptStation":"到达  呼和浩特市 处理中心","Remark":""},{"AcceptTime":"2015-03-11 09:53:48","AcceptStation":"呼和浩特市邮政速递物流分公司金川揽投部安排投递","Remark":"投递员姓名：安长虹;联系电话：18047140142"}]}')},b385:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"c",(function(){return o}));s("1ad7");var r=s("b775");function a(e,t,s){return Object(r["a"])({url:"/lejuAdmin/order/findOrdersByPage/".concat(e,"/").concat(t),method:"post",data:s})}function i(e){return Object(r["a"])({url:"/lejuAdmin/order/orderDetail/".concat(e),method:"get"})}function o(e){return Object(r["a"])({url:"/lejuAdmin/order/sendDone",method:"post",data:e})}},b775:function(e,t,s){"use strict";s("3900"),s("195b");var r=s("f753"),a=s.n(r),i=s("b705"),o=s("2f4d"),n=s("a18c"),l=a.a.create({baseURL:"https://leju.bufan.cloud",timeout:5e3});l.interceptors.request.use((function(e){return e.headers["token"]=Object(o["a"])(),e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return 2e4!==t.code?(Object(i["Message"])({message:t.message||"Error",type:"error",duration:3e3}),20002===t.code&&(Object(i["Message"])({message:"token过期,请重新登录!",type:"error",duration:3e3}),localStorage.clear(),n["a"].push("/")),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(i["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=l},c58d:function(e,t,s){},df4d:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"margin_30 detail"},[s("el-card",[s("div",{staticClass:"step"},[s("el-steps",{attrs:{active:e.orderBase.status,"align-center":"","finish-status":"success"}},e._l(5,(function(t,r){return s("el-step",{key:r,attrs:{title:e.statusText(r).txt}},[s("div",{attrs:{slot:"description"},slot:"description"},[e._v(" "+e._s(e.orderBase[e.statusText(r).time])+" ")])])})),1)],1),s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v(" 订单信息: "),s("el-tag",{attrs:{type:e.statusText(e.orderBase.status).type,effect:"dark"}},[e._v(" "+e._s(e.statusText(e.orderBase.status).txt)+" ")])],1),s("div",{staticClass:"main"},[s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单金额(￥): "),s("span",{staticClass:"totalAmount"},[e._v(e._s(e.orderBase.totalAmount))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单编号: "),s("span",[e._v(e._s(e.orderBase.orderSn))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 用户账户: "),s("span",[e._v(e._s(e.orderBase.memberUsername))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 备注: "),s("span",[e._v(e._s(e.orderBase.note))])])],1),s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:0}},[e._v(" 下单时间: "),s("span",[e._v(e._s(e.orderBase.createTime))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 付款时间: "),s("span",[e._v(e._s(e.orderBase.paymentTime))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 发货时间: "),s("span",[e._v(e._s(e.orderBase.deliveryTime))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 收货时间: "),s("span",[e._v(e._s(e.orderBase.finishTime))])])],1)],1)],1),s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v("收货人信息:")]),s("div",{staticClass:"main"},[s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:0}},[e._v(" 收货人: "),s("span",[e._v(e._s(e.orderBase.receiverName))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 用户姓名: "),s("span",[e._v(e._s(e.orderBase.memberUsername))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 手机号码: "),s("span",[e._v(e._s(e.orderBase.receiverPhone))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 邮政编码: "),s("span",[e._v(e._s(e.orderBase.receiverPostCode))])])],1),s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:0}},[e._v(" 地市: "),s("span",[e._v(e._s(e.orderBase.receiverProvince)+" "+e._s(e.orderBase.receiverRegion)+" "+e._s(e.orderBase.receiverCity))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 详细地址: "),s("span",[e._v(e._s(e.orderBase.receiverDetailAddress))])])],1)],1)],1),s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v("商品信息:")]),s("div",{staticClass:"main"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderItems,border:"","cell-style":e.centre,"header-cell-style":e.centre}},[s("el-table-column",{attrs:{prop:"productName",label:"商品名称",width:"180"}}),s("el-table-column",{attrs:{prop:"productPic",label:"商品图片",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.productPic}})]}}])}),s("el-table-column",{attrs:{prop:"isReturn",label:"是否退货",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.isReturn?"是":"否")+" ")]}}])}),s("el-table-column",{attrs:{prop:"productBrand",label:"品牌",width:"180"}}),s("el-table-column",{attrs:{prop:"productPrice",label:"价格(￥)",width:"180"}}),s("el-table-column",{attrs:{fixed:"right",prop:"totalPrice",label:"小计(￥)",width:"180"}})],1)],1)],1),s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v("费用信息:")]),s("div",{staticClass:"main"},[s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:0}},[e._v(" 运费金额(￥): "),s("span",{staticClass:"totalAmount"},[e._v(e._s(e.orderBase.freightAmount))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 订单总金额(￥): "),s("span",{staticClass:"totalAmount"},[e._v(e._s(e.orderBase.totalAmount))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 实际金额(￥): "),s("span",{staticClass:"totalAmount"},[e._v(e._s(e.orderBase.payAmount))])]),s("el-col",{attrs:{span:6,offset:0}},[e._v(" 促销优化金额(￥): "),s("span",{staticClass:"totalAmount"},[e._v(e._s(e.orderBase.couponAmount))])])],1)],1)],1),e.orderBase.status>1?s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v("物流信息:")]),s("div",{staticClass:"main"},[e.expressData?s("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.expressData,border:""}},[s("el-table-column",{attrs:{prop:"AcceptTime",label:"日期",width:"180"}}),s("el-table-column",{attrs:{prop:"AcceptStation",label:"状态"}}),s("el-table-column",{attrs:{prop:"Remark",label:"备注"}})],1):e._e()],1)],1):e._e(),1==e.orderBase.status?s("div",{staticClass:"info"},[s("el-divider"),s("div",{staticClass:"title"},[e._v("发货:")]),s("div",{staticClass:"main"},[s("el-form",{ref:"delivery",attrs:{inline:"",size:"mini",rules:e.rules,model:e.delivery}},[s("el-row",{staticStyle:{margin:"10px 0"},attrs:{gutter:20}},[s("el-col",{attrs:{span:8,offset:0}},[s("el-form-item",{attrs:{prop:"deliveryCompany",label:"物流公司"}},[s("el-select",{attrs:{placeholder:"请选择物流公司"},model:{value:e.delivery.deliveryCompany,callback:function(t){e.$set(e.delivery,"deliveryCompany",t)},expression:"delivery.deliveryCompany"}},e._l(e.express,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),s("el-col",{attrs:{span:8,offset:0}},[s("el-form-item",{attrs:{prop:"deliverySn",label:"物流单号"}},[s("el-input",{model:{value:e.delivery.deliverySn,callback:function(t){e.$set(e.delivery,"deliverySn",t)},expression:"delivery.deliverySn"}})],1)],1)],1),s("el-row",{staticStyle:{margin:"10px 0"},attrs:{type:"flex",justify:"center"}},[s("el-button",{staticStyle:{padding:"10px 60px"},attrs:{size:"mini",type:"primary"},on:{click:e.sendSubmit}},[e._v("确认发货")])],1)],1)],1)],1):e._e()])],1)},a=[],i=s("5549"),o=s("b385"),n={data:function(){return{express:[{id:0,name:"顺丰快递"},{id:1,name:"韵达快递"},{id:2,name:"中国邮政"},{id:3,name:"申通快递"},{id:4,name:"中通快递"}],delivery:{orderId:"",deliverySn:"",deliveryCompany:""},orderBase:{},orderItems:[],rules:{deliveryCompany:[{required:!0,message:"请输选择物流公司",trigger:"change"}],deliverySn:[{required:!0,message:"请输填写物流单号",trigger:"blur"}]}}},components:{},computed:{expressData:function(){return i.Traces}},methods:{sendSubmit:function(){var e=this;this.$refs.delivery.validate((function(t){if(!t)return e.$message.error("请填写完整"),!1;Object(o["c"])(e.delivery).then((function(t){console.log(t),t.success&&(e.$message.success("已发货"),e.init())}))}))},centre:function(){return"text-align:center"},statusText:function(e){var t={txt:"",type:"",time:""};return 0==e?(t={txt:"待付款",type:"danger",time:"createTime"},t):1==e?(t={txt:"待发货",type:"warning",time:"paymentTime"},t):2==e?(t={txt:"已发货",type:"primary",time:"deliveryTime"},t):3==e?(t={txt:"已完成",type:"success",time:"modifyTime"},t):4==e?(t={txt:"退货",type:"info",time:"commentTime"},t):(t={txt:"无效订单",type:"info",time:"modifyTime"},t)},init:function(){var e=this;Object(o["b"])(this.delivery.orderId).then((function(t){console.log(t.data.orderDetail),e.orderBase=t.data.orderDetail.orderBase,e.orderItems=t.data.orderDetail.orderItems}))}},created:function(){this.$route.query.id&&(this.delivery.orderId=this.$route.query.id,this.init())},mounted:function(){}},l=n,c=(s("1964"),s("cba8")),d=Object(c["a"])(l,r,a,!1,null,"2bb2fb91",null);t["default"]=d.exports}}]);