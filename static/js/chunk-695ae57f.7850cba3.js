(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-695ae57f"],{"04d7":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"c",(function(){return l}));r("1ad7");var s=r("b775");function a(t,e,r){return Object(s["a"])({url:"/lejuAdmin/orderReturn/findReturnApply/".concat(t,"/").concat(e),method:"post",data:r})}function n(t,e){return Object(s["a"])({url:"/lejuAdmin/orderReturn/agreeApply/".concat(t),method:"post",data:e})}function o(t,e){return Object(s["a"])({url:"/lejuAdmin/orderReturn/receiveProduct/".concat(t),method:"post",data:e})}function i(t,e){return Object(s["a"])({url:"/lejuAdmin/orderReturn/rejectApply/".concat(t),method:"post",data:e})}function l(t){return Object(s["a"])({url:"/lejuAdmin/orderReturn/".concat(t),method:"get"})}},"1b9c":function(t,e,r){},"64c5":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"margin_30 detail"},[r("el-card",[r("div",{staticClass:"head"},[r("span",{staticClass:"title"},[t._v("订单信息: ")]),t.info.status?r("el-tag",{attrs:{size:"small",type:t.statusText(t.info.status).type,effect:"dark"}},[t._v(t._s(t.statusText(t.info.status).txt))]):t._e()],1),r("div",{staticClass:"main"},[r("div",[r("el-row",{staticClass:"padding_10",attrs:{gutter:20}},[r("el-col",{attrs:{span:9,offset:0}},[t._v(" 订单编号:"+t._s(t.info.orderSn)+" "),r("router-link",{attrs:{to:"/order/orderDetail?id="+t.info.orderId}},[r("span",{staticStyle:{color:"#409eff"}},[t._v("查看订单详情")])])],1),r("el-col",{attrs:{span:5,offset:0}},[t._v(" 退单人姓名:"+t._s(t.info.returnName)+" ")]),r("el-col",{attrs:{span:5,offset:0}},[t._v(" 退单理由:"+t._s(t.info.reason)+" ")]),r("el-col",{attrs:{span:5,offset:0}},[t._v(" 退单描述:"+t._s(t.info.description)+" ")])],1),r("el-row",{staticClass:"padding_10"},[r("el-col",{attrs:{span:6}},[t._v(" 申请时间:"+t._s(t.info.createTime)+" ")])],1),r("el-row",{staticClass:"padding_10"},[r("el-col",{staticStyle:{display:"flex"}},[t._v(" 退单图片: "),t.info.proofPics?r("span",t._l(t.info.proofPics,(function(t){return r("img",{key:t,staticClass:"proofPics",attrs:{src:t,alt:""}})})),0):t._e()])],1)],1),r("el-divider")],1),r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[t._v("退货商品:")])]),r("div",{staticClass:"main"},[r("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":t.centre,"cell-style":t.centre,data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"date",label:"商品图片",width:"140"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.productPic,alt:""}})]}}])}),r("el-table-column",{attrs:{prop:"productName",label:"商品名称",width:"180"}}),r("el-table-column",{attrs:{prop:"productPrice",label:"商品价格",width:"100"}}),r("el-table-column",{attrs:{prop:"productAttr",label:"商品属性",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.productAttr[0]?r("span",[t._v(" "+t._s(e.row.productAttr[0].key)+": "+t._s(e.row.productAttr[0].value)+" ")]):t._e(),r("br"),e.row.productAttr[1]?r("span",[t._v(" "+t._s(e.row.productAttr[1].key)+": "+t._s(e.row.productAttr[1].value)+" ")]):t._e()]}}])}),r("el-table-column",{attrs:{prop:"productCount",label:"商品数量",width:"100"}}),r("el-table-column",{attrs:{prop:"returnAmount",label:"总计",width:"180"}})],1),r("el-divider")],1),r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[t._v("用户信息:")])]),r("div",{staticClass:"main"},[r("el-row",{staticClass:"padding_10",attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 联系人:"+t._s(t.info.returnName)+" ")]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 联系电话:"+t._s(t.info.returnPhone)+" ")])],1),r("el-divider")],1),r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[t._v("费用信息:")])]),r("div",{staticClass:"main"},[r("el-row",{staticClass:"padding_10",attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单金额: "),r("span",{staticClass:"red"},[t._v(t._s(t.info.returnAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 运费金额: "),r("span",{staticClass:"red"},[t._v("0")])])],1)],1),r("el-form",{ref:"form",attrs:{size:"small",model:t.form,rules:t.rules,"label-width":"100px"}},[0==t.info.status?r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{prop:"returnAmount",label:"退款金额:"}},[r("el-input-number",{attrs:{min:0},model:{value:t.form.returnAmount,callback:function(e){t.$set(t.form,"returnAmount",e)},expression:"form.returnAmount"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{prop:"handleMan",label:"处理人:"}},[r("el-input",{attrs:{placeholder:"处理人"},model:{value:t.form.handleMan,callback:function(e){t.$set(t.form,"handleMan",e)},expression:"form.handleMan"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{prop:"handleNote",label:"处理备注:"}},[r("el-input",{attrs:{placeholder:"处理备注"},model:{value:t.form.handleNote,callback:function(e){t.$set(t.form,"handleNote",e)},expression:"form.handleNote"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24,offset:0}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handleReturn(!0)}}},[t._v("同意退款")]),r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleReturn(!1)}}},[t._v("拒绝退款")])],1)])],1)],1):t._e(),t.info.status>0?r("div",[r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[t._v("处理结果:")])]),r("div",{staticClass:"main"},[r("el-row",{staticClass:"padding_10",attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[t._v(" 处理人: "),r("span",[t._v(t._s(t.info.handleMan))])]),r("el-col",{attrs:{span:8,offset:0}},[t._v(" 处理备注: "),r("span",[t._v(t._s(t.info.handleNote))])]),r("el-col",{attrs:{span:8,offset:0}},[t._v(" 处理时间: "),r("span",[t._v(t._s(t.info.handleTime))])])],1),1==t.info.status?r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{prop:"receiveMan",label:"收货人:"}},[r("el-input",{attrs:{placeholder:"收货人"},model:{value:t.form.receiveMan,callback:function(e){t.$set(t.form,"receiveMan",e)},expression:"form.receiveMan"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{prop:"receiveNote",label:"收货备注:"}},[r("el-input",{attrs:{placeholder:"收货备注"},model:{value:t.form.receiveNote,callback:function(e){t.$set(t.form,"receiveNote",e)},expression:"form.receiveNote"}})],1)],1)],1),r("div",{staticClass:"btn"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.sureReceive}},[t._v("确认收货")])],1)],1):t._e(),r("el-divider")],1)]):t._e()]),t.info.status>1?r("div",[r("div",{staticClass:"head"},[r("div",{staticClass:"title"},[t._v("收货人信息:")])]),r("div",{staticClass:"main"},[r("el-row",{staticClass:"padding_10",attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收货人: "),r("span",[t._v(t._s(t.info.receiveMan))])]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收货备注: "),r("span",[t._v(t._s(t.info.receiveNote))])]),r("el-col",{attrs:{span:6,offset:0}},[t._v(" 退单收货时间: "),r("span",[t._v(t._s(t.info.receiveTime))])])],1),r("el-divider")],1)]):t._e()],1)],1)},a=[],n=r("b49e"),o=(r("cae3"),r("a678"),r("04d7")),i={data:function(){return{id:"",info:{},tableData:[],form:{handleMan:"",handleNote:"",returnAmount:0,receiveMan:"",receiveNote:""},rules:{handleMan:[{required:!0,message:"请填写处理人",trigger:"blur"}],handleNote:[{required:!0,message:"请填写备注",trigger:"blur"}],receiveMan:[{required:!0,message:"请填写收货人",trigger:"blur"}],receiveNote:[{required:!0,message:"请填写备注",trigger:"blur"}]},receive:["receiveMan","receiveNote"],handle:["handleMan","handleNote"]}},components:{},computed:{},methods:{sureReceive:function(){var t=this,e=!1;this.$refs.form.validateField(this.receive,(function(t){e=""==t})),e?Object(o["d"])(this.info.id,Object(n["a"])({id:this.info.id},this.form2)).then((function(e){console.log(e),t.$message.success("成功!"),e.success&&t.init()})):this.$message.error("请填写完整")},handleReturn:function(t){var e=this,r=!1;this.$refs.form.validateField(this.handle,(function(t){r=""==t})),r?t?Object(o["a"])(this.info.id,Object(n["a"])({id:this.info.id},this.form)).then((function(t){console.log(t),e.$message.success("成功!"),e.init()})):Object(o["e"])(this.info.id,Object(n["a"])({id:this.info.id},this.form)).then((function(t){console.log(t),e.$message.success("成功!"),e.init()})):this.$message.error("请填写完整")},centre:function(){return"text-align:center"},statusText:function(t){return 0==t?{txt:"待处理",type:"danger"}:1==t?{txt:"退货中",type:"info"}:2==t?{txt:"已完成",type:"success"}:3==t?{txt:"已拒绝",type:"warning"}:void 0},init:function(){var t=this;Object(o["c"])(this.id).then((function(e){console.log(e),e.data.orderReturnApply.proofPics=e.data.orderReturnApply.proofPics.split(","),e.data.orderReturnApply.productAttr=JSON.parse(e.data.orderReturnApply.productAttr),t.info=e.data.orderReturnApply,t.tableData.push(e.data.orderReturnApply)}))}},created:function(){this.$route.query.id&&(this.id=this.$route.query.id,this.init())},mounted:function(){}},l=i,c=(r("d8af"),r("cba8")),d=Object(c["a"])(l,s,a,!1,null,"d18bacb0",null);e["default"]=d.exports},b775:function(t,e,r){"use strict";r("3900"),r("195b");var s=r("f753"),a=r.n(s),n=r("b705"),o=r("2f4d"),i=r("a18c"),l=a.a.create({baseURL:"https://leju.bufan.cloud",timeout:5e3});l.interceptors.request.use((function(t){return t.headers["token"]=Object(o["a"])(),t}),(function(t){return console.log(t),Promise.reject(t)})),l.interceptors.response.use((function(t){var e=t.data;return 2e4!==e.code?(Object(n["Message"])({message:e.message||"Error",type:"error",duration:3e3}),20002===e.code&&(Object(n["Message"])({message:"token过期,请重新登录!",type:"error",duration:3e3}),localStorage.clear(),i["a"].push("/")),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(n["Message"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=l},d8af:function(t,e,r){"use strict";r("1b9c")}}]);